(this.webpackJsonpburger=this.webpackJsonpburger||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports={BreadTop:"BugerIngredient_BreadTop__3olfP",BreadButton:"BugerIngredient_BreadButton__1tgDi",Salad:"BugerIngredient_Salad__2K3AA",Meat:"BugerIngredient_Meat__XzOJy",Cheese:"BugerIngredient_Cheese__erdUX",Bacon:"BugerIngredient_Bacon__14bKv",Seed:"BugerIngredient_Seed__2CAMu",Second:"BugerIngredient_Second__IP1iO",Third:"BugerIngredient_Third__2izEq",Forth:"BugerIngredient_Forth__1nfw4"}},,,,,,,,,,,function(e,t,n){e.exports={BuildControl:"buildControl_BuildControl__3piSe",Label:"buildControl_Label__uuL-I",CountLabel:"buildControl_CountLabel__76e2f",Less:"buildControl_Less__2vlOj",More:"buildControl_More__3oROX"}},,function(e,t,n){e.exports={HambugerMenu:"HambugerMenu_HambugerMenu__1KP6W"}},function(e,t,n){e.exports={Sidebar:"Sidebar_Sidebar__20wGk",Logo:"Sidebar_Logo__2vhaf",Open:"Sidebar_Open__2cUIJ",Close:"Sidebar_Close__2c8Lc"}},,,function(e,t,n){e.exports={BuildControls:"buildConstrols_BuildControls__2lRQF",Price:"buildConstrols_Price__2Kr2K",OrderButton:"buildConstrols_OrderButton__2vXAj",enable:"buildConstrols_enable__2_8F9"}},,function(e,t,n){e.exports={Toolbar:"toolbar_Toolbar__2lUaI",HideOnMobile:"toolbar_HideOnMobile__1JAq0"}},function(e,t,n){e.exports={MenuItem:"MenuItem_MenuItem__1KGiE",Active:"MenuItem_Active__2BkhN"}},,,,function(e,t,n){e.exports={Button:"Button_Button__3e0EE",Success:"Button_Success__dEsel",Danger:"Button_Danger__3prKu"}},,,,,,,,,,,function(e,t,n){e.exports={Content:"style_Content__26rff"}},function(e,t,n){e.exports={Logo:"Logo_Logo__3WdPe"}},function(e,t,n){e.exports=n.p+"static/media/burger-logo.b8503d26.png"},function(e,t,n){e.exports={Menu:"Menu_Menu__3HPi4"}},,,function(e,t,n){e.exports={Burger:"Burger_Burger__1Ji5Y"}},function(e,t,n){e.exports={Modal:"Modal_Modal__dtPCG"}},function(e,t,n){e.exports={Shadow:"Shadow_Shadow__keF9F"}},function(e,t,n){e.exports={Loader:"Spinner_Loader__csYkV",load1:"Spinner_load1__2OCEZ"}},function(e,t,n){e.exports={OrderList:"OrderList_OrderList__Ixou9"}},function(e,t,n){e.exports={OrderListItem:"OrderListItem_OrderListItem__2C7lS"}},function(e,t,n){e.exports={ShippingPage:"ShippingPage_ShippingPage__1ayjX"}},function(e,t,n){e.exports={ContactData:"Contact_ContactData__3n_h0"}},function(e,t,n){e.exports={Login:"Login_Login__3bun9"}},function(e,t,n){e.exports={Signup:"Login_Signup__1IWJD"}},,function(e,t,n){e.exports=n(90)},,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(25),i=n.n(o),c=(n(67),n(4)),s=n(5),l=n(7),u=n(6),d=n(8),g=n(16),m=n(45),p=n.n(m),h=n(29),E=n.n(h),f=n(46),b=n.n(f),_=n(47),S=n.n(_),O=function(){return a.a.createElement("div",{className:b.a.Logo},a.a.createElement("img",{src:S.a,alt:""}))},v=n(48),I=n.n(v),R=n(30),y=n.n(R),C=n(13),j=function(e){return a.a.createElement("li",{className:y.a.MenuItem},a.a.createElement(C.b,{exact:e.exact,activeClassName:y.a.Active,to:e.link},e.children))},k=n(2),w=Object(k.b)((function(e){return{userId:e.signupLoginReducer.userId}}))((function(e){return a.a.createElement("div",null,a.a.createElement("ul",{className:I.a.Menu},e.userId?a.a.createElement(r.Fragment,null,a.a.createElement(j,{exact:!0,link:"/"},"\u0428\u0418\u041d\u042d \u0417\u0410\u0425\u0418\u0410\u041b\u0413\u0410"," "),a.a.createElement(j,{link:"/orders"},"\u0417\u0410\u0425\u0418\u0410\u041b\u0413\u0410\u041d\u0423\u0423\u0414 "),a.a.createElement(j,{link:"/logout"},"\u0413\u0410\u0420\u0410\u0425 ")):a.a.createElement(r.Fragment,null,a.a.createElement(j,{link:"/login"},"\u041d\u042d\u0412\u0422\u0420\u042d\u0425 "),a.a.createElement(j,{link:"/signup"},"\u0411\u04ae\u0420\u0422\u0413\u04ae\u04ae\u041b\u042d\u0425 "))))})),N=n(23),L=n.n(N),M=function(e){return a.a.createElement("div",{onClick:e.toggleSidebar,className:L.a.HambugerMenu},a.a.createElement("div",{className:L.a.HambugerMenuItem}),a.a.createElement("div",{className:L.a.HambugerMenuItem}),a.a.createElement("div",{className:L.a.HambugerMenuItem}))},D=function(e){return a.a.createElement("header",{className:E.a.Toolbar},a.a.createElement(M,{toggleSidebar:e.toggleSidebar}),a.a.createElement(O,null),a.a.createElement("nav",{className:E.a.HideOnMobile},a.a.createElement(w,null)))},T=n(10),P=n.n(T),x=function(e){return"bread-top"===e.type?a.a.createElement("div",{className:P.a.BreadTop},a.a.createElement("div",{className:P.a.Seed}),a.a.createElement("div",{className:[P.a.Seed,P.a.Second].join(" ")}),a.a.createElement("div",{className:[P.a.Seed,P.a.Third].join(" ")}),a.a.createElement("div",{className:[P.a.Seed,P.a.Forth].join(" ")})):"salad"===e.type?a.a.createElement("div",{className:P.a.Salad}):"meat"===e.type?a.a.createElement("div",{className:P.a.Meat}):"bacon"===e.type?a.a.createElement("div",{className:P.a.Bacon}):"cheese"===e.type?a.a.createElement("div",{className:P.a.Cheese}):"bread-button"===e.type?a.a.createElement("div",{className:P.a.BreadButton}):a.a.createElement("div",null,"...")},B=n(51),A=n.n(B),U=Object(k.b)((function(e){return{ingredients:e.burgerReducer.ingredients}}))(Object(g.g)((function(e){var t=[];return Object.entries(e.ingredients).map((function(e){for(var n=0;n<e[1];++n)t.push(a.a.createElement(x,{key:"".concat(e[0],"+1 ").concat(n),type:e[0]}));return null})),0===t.length&&(t=a.a.createElement("p",null,"\u0425\u0430\u0447\u0438\u0440\u0442\u0430\u0439 \u0442\u0430\u043b\u0445\u043d\u044b \u043e\u0440\u0446\u043e\u043e \u0441\u043e\u043d\u0433\u043e\u043d\u043e \u0443\u0443 ...")),a.a.createElement("div",null,a.a.createElement("div",{className:A.a.Burger},a.a.createElement(x,{type:"bread-top"}),t,a.a.createElement(x,{type:"bread-button"})))}))),G=n(27),H=n.n(G),F=n(21),K=n.n(F),V=function(e){return a.a.createElement("div",{className:K.a.BuildControl},a.a.createElement("div",{className:K.a.Label},e.name),a.a.createElement("div",{className:K.a.CountLabel},e.ingredients[e.type]),a.a.createElement("button",{className:K.a.Less,onClick:function(){return e.ingredientsMin(e.type)},disabled:0===e.ingredients[e.type]},"\u0445\u0430\u0441\u0430\u0445"),a.a.createElement("button",{className:K.a.More,onClick:function(){return e.ingredientsAdd(e.type)},disabled:5===e.ingredients[e.type]},"\u043d\u044d\u043c\u044d\u0445"))},z=Object(k.b)((function(e){return{ingredients:e.burgerReducer.ingredients,totalPrice:e.burgerReducer.totalPrice,purchasing:e.burgerReducer.purchasing,ingredient_names:e.burgerReducer.ingredient_names}}),(function(e){return{ingredientsAdd:function(t){return e({type:"ADD_INGREDIENT",ingredientName:t})},ingredientsMin:function(t){return e({type:"MIN_INGREDIENT",ingredientName:t})}}}))((function(e){return a.a.createElement("div",{className:H.a.BuildControls},a.a.createElement("div",{className:H.a.Price},"\u0411\u0443\u0440\u0433\u0435\u0440\u0438\u0439\u043d \u04af\u043d\u044d:",a.a.createElement("strong",null," ",e.totalPrice)),Object.keys(e.ingredient_names).map((function(t){return a.a.createElement(V,{key:t,type:t,name:e.ingredient_names[t],ingredients:e.ingredients,ingredientsAdd:e.ingredientsAdd,ingredientsMin:e.ingredientsMin})})),a.a.createElement("button",{onClick:e.showConfirmModal,className:H.a.OrderButton,disabled:!e.purchasing},"\u0417\u0430\u0445\u0438\u0430\u043b\u0430\u0445"))})),J=n(52),Q=n.n(J),X=n(53),Y=n.n(X),W=function(e){return e.show?a.a.createElement("div",{onClick:e.onClick,className:Y.a.Shadow}):""},Z=function(e){return a.a.createElement("div",null,a.a.createElement(W,{onClick:e.hideConfirmModal,show:e.show}),a.a.createElement("div",{style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"},className:Q.a.Modal},e.children))},q=n(34),$=n.n(q),ee=function(e){return a.a.createElement("button",{onClick:e.clicked,className:"".concat($.a.Button," ").concat($.a[e.btnType])},e.text," ")},te=Object(k.b)((function(e){return{ingredients:e.burgerReducer.ingredients,totalPrice:e.burgerReducer.totalPrice,ingredient_names:e.burgerReducer.ingredient_names}}))((function(e){return a.a.createElement("div",null,a.a.createElement("h1",null,"tanii zahialga"),a.a.createElement("p",null,"tanii songoson ortsuud"),a.a.createElement("ul",null,Object.keys(e.ingredients).map((function(t){return a.a.createElement("li",{key:t},e.ingredient_names[t],":",e.ingredients[t])}))),a.a.createElement("p",null,a.a.createElement("strong",null,"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u044b\u043d \u0434\u04af\u043d : ",e.totalPrice)),a.a.createElement(ee,{text:"\u0422\u0410\u0422\u0413\u0410\u041b\u0417\u0410\u0425",btnType:"Danger",clicked:e.onCancel}),a.a.createElement(ee,{text:"\u04ae\u0420\u0413\u042d\u041b\u0416\u041b\u04ae\u04ae\u041b\u042d\u0425",btnType:"Success",clicked:e.onContinue}))})),ne=n(54),re=n.n(ne),ae=function(){return a.a.createElement("div",{className:re.a.Loader})},oe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).showConfirmModal=function(){n.setState({comfirmOrder:!0})},n.hideConfirmModal=function(){n.setState({comfirmOrder:!1})},n.continueOrder=function(){n.setState({loading:!1}),n.props.history.push({pathname:"/ship"})},n.state={comfirmOrder:!1,loading:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(Z,{show:this.state.comfirmOrder,hideConfirmModal:this.hideConfirmModal},this.state.loading?a.a.createElement(ae,null):a.a.createElement(te,{onCancel:this.hideConfirmModal,onContinue:this.continueOrder})),a.a.createElement("p",{style:{width:"100%",fontSize:"28px",textAlign:"center"}},"\u0421\u04af\u04af\u043b\u0447\u0438\u0439\u043d \u0437\u0430\u0445\u0438\u0430\u043b\u0430\u0433\u0447: ",this.state.lastCustomer),a.a.createElement(U,null),a.a.createElement(z,{showConfirmModal:this.showConfirmModal}))}}]),t}(r.Component),ie=n(24),ce=n.n(ie),se=function(e){return a.a.createElement("div",null,a.a.createElement(W,{show:e.show,onClick:e.toggleSidebar}),a.a.createElement("div",{className:[ce.a.Sidebar,e.show?ce.a.Open:ce.a.Close].join(" ")},a.a.createElement("div",{className:ce.a.Logo},a.a.createElement(O,null)),a.a.createElement(w,null)))},le=n(55),ue=n.n(le),de=n(56),ge=n.n(de),me=function(e){return a.a.createElement("div",{className:ge.a.OrderListItem},a.a.createElement("p",null,a.a.createElement("strong",null,"\u041e\u0440\u0446:")," \u0413\u0430\u0445\u0430\u0439\u043d \u043c\u0430\u0445: ",e.order.ingredients.bacon,"\u0421\u0430\u043b\u0430\u0434: ",e.order.ingredients.salad,"\u04ae\u0445\u0440\u0438\u0439\u043d \u043c\u0430\u0445: ",e.order.ingredients.meat,"\u0411\u0430\u044f\u0441\u043b\u0430\u0433: ",e.order.ingredients.cheese),a.a.createElement("p",null,a.a.createElement("strong",null,"\u0425\u0430\u044f\u0433:")," ",e.order.address.name," |"," ",e.order.address.street," | ",e.order.address.city),a.a.createElement("p",null,a.a.createElement("strong",null,"\u04ae\u043d\u0438\u0439\u043d \u0434\u04af\u043d:")," ",e.order.totalPrice," \u0442\u04e9\u0433\u0440\u04e9\u0433"))},pe=function(e){return a.a.createElement("div",{className:ue.a.OrderList},a.a.createElement("h3",null,"\u0417\u0430\u0445\u0438\u0430\u043b\u0433\u0443\u0443\u0434"),a.a.createElement("hr",null),e.orders.map((function(e){return a.a.createElement(me,{key:e[0],order:e[1]})})))},he=n(17),Ee=n.n(he),fe=Ee.a.create({baseURL:"https://burger-c686a.firebaseio.com/"}),be=function(){return{type:"LOAD_ORDERS_START"}},_e=function(e){return{type:"LOAD_ORDERS_SUCCESS",orders:e}},Se=function(e){return{type:"LOAD_ORDERS_ERROR",error:e}},Oe=function(){return{type:"SAVE_ORDER_START"}},ve=function(){return{type:"SAVE_ORDER_SUCCESS"}},Ie=function(e){return{type:"SAVE_ORDER_ERROR",error:e}},Re=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).call(this))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.loadOrders()}},{key:"render",value:function(){return a.a.createElement("div",null,this.props.loading?a.a.createElement(ae,null):a.a.createElement(pe,{orders:this.props.orders}))}}]),t}(a.a.Component),ye=Object(k.b)((function(e){return{orders:e.orderReducer.orders,loading:e.orderReducer.loading,error:e.orderReducer.error}}),(function(e){return{loadOrders:function(){return e((function(e,t){e(be());var n=t().signupLoginReducer.token,r=t().signupLoginReducer.userId;fe.get("orders.json?&auth="+n+'&orderBy="userId"&equalTo="'+r+'"').then((function(t){e(_e(Object.entries(t.data)))})).catch((function(t){e(Se(t))}))}))}}}))(Re),Ce=n(57),je=n.n(Ce),ke=n(18),we=n(58),Ne=n.n(we),Le=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).changeHandler=function(e){n.setState(Object(ke.a)({},e.target.name,e.target.value))},n.saveOrder=function(){var e={ingredients:n.props.ingredients,totalPrice:n.props.totalPrice,address:{name:n.state.name,city:n.state.city,street:n.state.street},userId:n.props.userId};n.props.saveOrderAction(e)},n.state={name:null,city:null,street:null},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){this.props.newOrderStatus.finished&&!this.props.newOrderStatus.error&&this.props.history.replace("/orders")}},{key:"render",value:function(){return console.log(this.props),a.a.createElement("div",{className:Ne.a.ContactData},a.a.createElement("h1",null,this.props.totalPrice),this.props.newOrderStatus.saving?a.a.createElement(ae,null):a.a.createElement("div",null,a.a.createElement("input",{onChange:this.changeHandler,type:"text",name:"name",placeholder:"\u0422\u0430\u043d\u044b \u043d\u044d\u0440"}),a.a.createElement("input",{onChange:this.changeHandler,type:"text",name:"street",placeholder:"\u0422\u0430\u043d\u044b \u0445\u0430\u044f\u0433"}),a.a.createElement("input",{onChange:this.changeHandler,type:"text",name:"city",placeholder:"\u0422\u0430\u043d\u044b \u0445\u043e\u0442"}),a.a.createElement(ee,{clicked:this.saveOrder,text:"\u0417\u0410\u0425\u0418\u0410\u041b\u0413\u042b\u0413 \u0418\u041b\u0413\u042d\u042d\u0425",btnType:"Success"})))}}]),t}(a.a.Component),Me=Object(k.b)((function(e){return{totalPrice:e.burgerReducer.totalPrice,ingredients:e.burgerReducer.ingredients,newOrderStatus:e.orderReducer.newOrder,userId:e.signupLoginReducer.userId}}),(function(e){return{saveOrderAction:function(t){return e((n=t,function(e,t){e(Oe());var r=t().signupLoginReducer.token;fe.post("/orders.json?auth="+r,n).then((function(t){e(ve())})).catch((function(t){e(Ie(t))}))}));var n}}}))(Object(g.g)(Le)),De=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).goBack=function(){n.props.history.goBack()},n.showContactData=function(){n.props.history.replace("/ship/contact")},n.state={totalPrice:0,purchasing:!1,comfirmOrder:!1,loading:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:je.a.ShippingPage},a.a.createElement("h3",null,"\u0422\u0430\u043d\u044b \u0437\u0430\u0445\u0438\u0430\u043b\u0433\u0430 \u0430\u043c\u0442\u0442\u0430\u0439 \u0431\u0430\u0439\u0445 \u0431\u043e\u043b\u043d\u043e \u0433\u044d\u0436 \u043d\u0430\u0439\u0434\u0430\u0436 \u0431\u0430\u0439\u043d\u0430..."),a.a.createElement("p",null,"\u04ae\u043d\u0438\u0439\u043d \u0434\u04af\u043d:",a.a.createElement("strong",null,this.props.totalPrice)),a.a.createElement(U,{ingredients:this.props.ingredients}),a.a.createElement(ee,{clicked:this.goBack,btnType:"Danger",text:"\u0417\u0410\u0425\u0418\u0410\u041b\u0413\u042b\u0413 \u0426\u0423\u0426\u041b\u0410\u0425"}),a.a.createElement(ee,{clicked:this.showContactData,btnType:"Success",text:"\u0425\u04ae\u0420\u0413\u042d\u041b\u0422\u0418\u0419\u041d \u041c\u042d\u0414\u042d\u042d\u041b\u042d\u041b \u041e\u0420\u0423\u0423\u041b\u0410\u0425"}),a.a.createElement(g.b,{path:"/ship/contact"},a.a.createElement(Me,null)))}}]),t}(a.a.Component),Te=Object(k.b)((function(e){return{ingredients:e.burgerReducer.ingredients,totalPrice:e.burgerReducer.totalPrice}}))(De),Pe=n(59),xe=n.n(Pe),Be=function(){return{type:"LOGIN_USER_START"}},Ae=function(e,t){return{type:"LOGIN_USER_SUCCESS",token:e,userId:t}},Ue=function(e){return{type:"LOGIN_USER_ERROR",error:e}},Ge=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expireDate"),localStorage.removeItem("refreshToken"),{type:"LOGOUT_USER"}},He=function e(t){return function(n){setTimeout((function(){var t={grant_type:"refresh_token",refresh_token:localStorage.getItem("refreshToken")};Ee.a.post("https://securetoken.googleapis.com/v1/token?key=AIzaSyAQ1HtMK90egh3_YmFecMP5Z6S-nmD0UlQ",t).then((function(t){var r=t.data.id_token,a=t.data.user_id,o=t.data.expires_in,i=new Date((new Date).getTime()+1e3*o),c=t.data.refresh_token;localStorage.setItem("token",r),localStorage.setItem("userId",a),localStorage.setItem("expireDate",i),localStorage.setItem("refreshToken",c),n(Ae(r,a)),n(e(1e3*o))})).catch((function(e){n(Ge())}))}),t)}},Fe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={email:"",password:""},n.login=function(){n.props.login(n.state.email,n.state.password)},n.changeEmail=function(e){n.setState({email:e.target.value})},n.changePassword=function(e){n.setState({password:e.target.value})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:xe.a.Login},this.props.userId&&a.a.createElement(g.a,{to:"/orders"}),a.a.createElement("input",{onChange:this.changeEmail,type:"text",placeholder:"\u0418\u043c\u044d\u0439\u043b \u0445\u0430\u044f\u0433"}),a.a.createElement("input",{onChange:this.changePassword,type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433"}),this.props.firebaseError&&a.a.createElement("div",{style:{color:"red"}},this.props.firebaseError," "),this.props.logginIn?a.a.createElement(ae,null):null,a.a.createElement(ee,{text:"\u041b\u041e\u0413\u0418\u041d",btnType:"Success",clicked:this.login}))}}]),t}(r.Component),Ke=Object(k.b)((function(e){return{logginIn:e.signupLoginReducer.logginIn,firebaseError:e.signupLoginReducer.firebaseError,firebaseErrorCode:e.signupLoginReducer.firebaseErrorCode,userId:e.signupLoginReducer.userId}}),(function(e){return{login:function(t,n){return e(function(e,t){return function(n){n(Be());var r={email:e,password:t,returnSecureToken:!0};Ee.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAQ1HtMK90egh3_YmFecMP5Z6S-nmD0UlQ",r).then((function(e){var t=e.data.idToken,r=e.data.localId,a=e.data.expiresIn,o=new Date((new Date).getTime()+1e3*a),i=e.data.refreshToken;localStorage.setItem("token",t),localStorage.setItem("userId",r),localStorage.setItem("expireDate",o),localStorage.setItem("refreshToken",i),n(Ae(t,r)),n(He(1e3*a))})).catch((function(e){console.log(e),n(Ue(e))}))}}(t,n))}}}))(Fe),Ve=n(60),ze=n.n(Ve),Je=function(){return{type:"SIGNUP_USER_START"}},Qe=function(e,t){return{type:"SIGNUP_USER_SUCCESS",token:e,userId:t}},Xe=function(e){return{type:"SIGNUP_USER_ERROR",error:e}},Ye=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={email:"",password1:"",password2:"",error:""},n.Signup=function(){n.state.password1===n.state.password2?n.props.signupStart(n.state.email,n.state.password1):n.setState({error:"\u041d\u0443\u0443\u0446 \u04af\u0433 \u0445\u043e\u043e\u0440\u043e\u043d\u0434\u043e\u043e \u0442\u0430\u0430\u0440\u0430\u0445\u0433\u04af\u0439 \u0431\u0430\u0439\u043d\u0430!!"})},n.changeEmail=function(e){n.setState({email:e.target.value})},n.changePassword1=function(e){n.setState({password1:e.target.value})},n.changePassword2=function(e){n.setState({password2:e.target.value})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:ze.a.Signup},this.props.userId&&a.a.createElement(g.a,{to:"/"}),a.a.createElement("h1",null,"\u0411\u04af\u0440\u0442\u0433\u044d\u043b\u0438\u0439\u043d \u0444\u043e\u0440\u043c"),a.a.createElement("div",null,"\u0422\u0430 \u04e9\u04e9\u0440\u0438\u0439\u043d \u043c\u044d\u0434\u044d\u044d\u043b\u043b\u044d\u044d \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443"),a.a.createElement("input",{onChange:this.changeEmail,type:"text",placeholder:"\u0418\u043c\u044d\u0439\u043b \u0445\u0430\u044f\u0433"}),a.a.createElement("input",{onChange:this.changePassword1,type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433\u044d\u044d \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443"}),a.a.createElement("input",{onChange:this.changePassword2,type:"password",placeholder:"\u041d\u0443\u0443\u0446 \u04af\u0433\u044d\u044d \u0434\u0430\u0432\u0442\u0430\u043d \u043e\u0440\u0443\u0443\u043b\u043d\u0430 \u0443\u0443"}),this.state.error&&a.a.createElement("div",{style:{color:"red"}},this.state.error),this.props.firebaseError&&a.a.createElement("div",{style:{color:"red"}},this.props.firebaseError),this.props.saving?a.a.createElement(ae,null):null,a.a.createElement(ee,{text:"\u0411\u04ae\u0420\u0422\u0413\u04ae\u04ae\u041b\u042d\u0425",btnType:"Success",clicked:this.Signup}))}}]),t}(r.Component),We=Object(k.b)((function(e){return{saving:e.signupLoginReducer.saving,firebaseError:e.signupLoginReducer.firebaseError,userId:e.signupLoginReducer.userId}}),(function(e){return{signupStart:function(t,n){return e(function(e,t){return function(n){n(Je());var r={email:e,password:t,returnSecureToken:!0};Ee.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyAQ1HtMK90egh3_YmFecMP5Z6S-nmD0UlQ",r).then((function(e){var t=e.data.idToken,r=e.data.localId;localStorage.setItem("token",t),localStorage.setItem("userId",r),n(Qe(t,r))})).catch((function(e){n(Xe(e))}))}}(t,n))}}}))(Ye),Ze=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.Logout()}},{key:"render",value:function(){return a.a.createElement(g.a,{to:"/"})}}]),t}(r.Component),qe=Object(k.b)(null,(function(e){return{Logout:function(){return e(Ge())}}}))(Ze),$e=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).toggleSidebar=function(){n.setState((function(e){return{showSidebar:!e.showSidebar}}))},n.state={showSidebar:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token"),t=localStorage.getItem("userId"),n=new Date(localStorage.getItem("expireDate"));localStorage.getItem("refreshToken");e&&(n>new Date?(this.props.autoLogin(e,t),this.props.autoLogoutAfterMillisec(n.getTime()-(new Date).getTime())):this.props.logout())}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(D,{toggleSidebar:this.toggleSidebar}),a.a.createElement(se,{show:this.state.showSidebar,toggleSidebar:this.toggleSidebar}),a.a.createElement("main",{className:p.a.Content},this.props.userId?a.a.createElement(g.d,null,a.a.createElement(g.b,{path:"/ship",component:Te}),a.a.createElement(g.b,{path:"/orders",component:ye}),a.a.createElement(g.b,{path:"/logout",component:qe}),a.a.createElement(g.b,{path:"/",component:oe})):a.a.createElement(g.d,null,a.a.createElement(g.b,{path:"/login",component:Ke}),a.a.createElement(g.b,{path:"/signup",component:We}),a.a.createElement(g.a,{to:"/login"}))))}}]),t}(r.Component),et=Object(k.b)((function(e){return{userId:e.signupLoginReducer.userId}}),(function(e){return{autoLogin:function(t,n){return e(Ae(t,n))},logout:function(){return e(Ge())},autoLogoutAfterMillisec:function(t){return e(He(t))}}}))($e);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var tt=n(19),nt=n(61),rt=n(3),at={salad:150,cheese:250,bacon:800,meat:1500},ot={ingredients:{salad:0,cheese:0,bacon:0,meat:0},ingredient_names:{salad:"\u0421\u0430\u043b\u0430\u0434",cheese:"\u0411\u0430\u044f\u0441\u043b\u0430\u0433",bacon:"\u0413\u0430\u0445\u0430\u0439\u043d \u043c\u0430\u0445",meat:"\u04ae\u0445\u0440\u0438\u0439\u043d \u043c\u0430\u0445"},totalPrice:1e3,purchasing:!1},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;if("ADD_INGREDIENT"===t.type)return Object(rt.a)({},e,{ingredients:Object(rt.a)({},e.ingredients,Object(ke.a)({},t.ingredientName,e.ingredients[t.ingredientName]+1)),totalPrice:e.totalPrice+at[t.ingredientName],purchasing:!0});if("MIN_INGREDIENT"===t.type){var n=e.totalPrice-at[t.ingredientName];return Object(rt.a)({},e,{ingredients:Object(rt.a)({},e.ingredients,Object(ke.a)({},t.ingredientName,e.ingredients[t.ingredientName]-1)),totalPrice:n,purchasing:n>1e3})}return e},ct={orders:[],loading:!1,error:null,newOrder:{saving:!1,finished:!1,error:null}},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_ORDERS_START":return Object(rt.a)({},e,{loading:!0});case"LOAD_ORDERS_SUCCESS":return Object(rt.a)({},e,{loading:!1,orders:t.orders});case"LOAD_ORDERS_ERROR":return Object(rt.a)({},e,{loading:!1});case"SAVE_ORDER_START":return Object(rt.a)({},e,{newOrder:Object(rt.a)({},e.newOrder,{saving:!0})});case"SAVE_ORDER_SUCCESS":return Object(rt.a)({},e,{newOrder:Object(rt.a)({},e.newOrder,{saving:!1,finished:!0,error:null})});case"SAVE_ORDER_ERROR":return Object(rt.a)({},e,{newOrder:Object(rt.a)({},e.newOrder,{saving:!1,finished:!0,error:t.error})});default:return e}},lt={saving:!1,logginIn:!1,firebaseError:null,firebaseErrorCode:null,token:"",userId:""},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP_USER_START":return Object(rt.a)({},e,{saving:!0});case"SIGNUP_USER_SUCCESS":return Object(rt.a)({},e,{saving:!1,token:t.token,userId:t.userId});case"SIGNUP_USER_ERROR":return Object(rt.a)({},e,{saving:!1,firebaseError:t.error.response.data.error.message,firebaseErrorCode:t.error.response.data.error.message});case"LOGIN_USER_START":return Object(rt.a)({},e,{logginIn:!0});case"LOGIN_USER_SUCCESS":return Object(rt.a)({},e,{logginIn:!1,token:t.token,userId:t.userId});case"LOGIN_USER_ERROR":return Object(rt.a)({},e,{logginIn:!1,firebaseError:t.error.response.data.error.message});case"LOGOUT_USER":return Object(rt.a)({},e,{saving:!1,logginIn:!1,firebaseError:null,firebaseErrorCode:null,token:"",userId:""});default:return e}},dt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||tt.d,gt=Object(tt.c)({burgerReducer:it,orderReducer:st,signupLoginReducer:ut}),mt=[function(e){return function(t){return function(n){console.log("my loggerMiddleware : Dispatching==> ",n),console.log("my loggerMiddleware : State before==> ",e.getState());var r=t(n);return console.log("my loggerMiddleware : State after==> ",e.getState()),r}}},nt.a],pt=Object(tt.e)(gt,dt(tt.a.apply(void 0,mt)));i.a.render(a.a.createElement(k.a,{store:pt},a.a.createElement(C.a,null,a.a.createElement(et,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[62,1,2]]]);
//# sourceMappingURL=main.f54d0756.chunk.js.map